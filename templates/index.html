<!DOCTYPE html>
<html>
<head>
    <title>Calendar GPT Web App</title>
</head>
<body>
    <h1>Calendar GPT Web App</h1>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for message in messages %}
            <li>{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    {% if not session.credentials %}
      <p>Please <a href="{{ url_for('authorize') }}">authenticate with Google</a> to continue.</p>
    {% else %}
      <form action="/process" method="POST" enctype="multipart/form-data">
          <textarea name="text_input" placeholder="Enter event details..." rows="5" cols="40"></textarea><br>
          <input type="file" name="file_upload"><br>
          <input type="text" name="selected_pages" placeholder="Pages (comma separated)"><br>
          <button type="submit">Submit</button>
      </form>
    {% endif %}
</body>
</html>